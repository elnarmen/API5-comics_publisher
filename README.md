# Публикация комиксов
Скрипт скачивает случайные комиксы с сайта [https://xkcd.com](https://xkcd.com/353/) и публикует их в группе ВК
# Как установить
На вашем компьютере уже должен быть установлен Python3. Для загрузки проекта откройте терминал и перейдите в папку, в которую хотите загрузить файлы.

Затем введите команду:
```
git clone https://github.com/elnarmen/API5-comics_publisher.git
```
## Настройка виртуального окружения
Перейдите в папку с проектом:
```
cd API5-comics_publisher
```
Далее введите команду:
```
python -m venv venv
```
Активируйте виртуальное окружение командой:
```
cd venv\Scripts
activate.bat
```
Затем вернитесь в папку с проектом:
```
cd ../..
```
## Установка зависимостей
Используйте pip для установки зависимостей:

   ```
   pip install -r requirements.txt
   ```
## Переменные окружения
В папке с проектом создайте файл **`.env`** для хранения переменных окружения

#### VK_GROUP_ID
Создайте группу Вконтакте, в которую будете выкладывать комиксы. Затем сохраните id вашей группы в переменной окружения `VK_GROUP_ID` в файле `.env`
```
VK_GROUP_ID = <id вашей группы>
```
Узнать id группы можете [здесь](https://regvk.com/id/).

#### VK_CLIENT_ID
Для постинга на стену нужен ключ доступа пользователя. Чтобы его получить, ВКонтакте хочет “приложение”.
Создайте его на [странице Вконтакте](https://vk.com/dev) для разработчиков.
Создать приложение можно в разделе "Мои приложения". Ссылка на него в шапке страницы.

В качестве типа приложения следует указать `standalone`.

Чтобы работать со своим приложением, надо знать его `client_id`. Если нажать на кнопку “Редактировать” для нового приложения, 
в адресной строке вы увидите его `client_id`. Сохраните полученный id в переменной `VK_CLIENT_ID` в файле `.env`
```
VK_CLIENT_ID = <client_id>
```
#### VK_TOKEN
Для получения токена перейдите в браузере по следующему адресу, вставив после символов `client_id=` ваш client_id
```
https://oauth.vk.com/authorize?client_id=scope=photos,groups,wall,offline&response_type=token
```
Далее скопируйте в адресной строке все после символов `access_token=` до символа `&`. Это ваш `VK_TOKEN`.

> **Спрячьте ключ. Отнеситесь к этому серьёзно: это ключ, дающий права на действия с вашим аккаунтом Вконтакте.**

При получении ключа вы увидите страницу как на скриншоте. Список разрешений будет тоже как на скриншоте.

![список разрешений](https://dvmn.org/media/test.png)

Сохраните полученный токен в переменной `VK_TOKEN` в файле `.env`:
```
VK_TOKEN = <Ваш токен>
```

#### API_VERSION
Узнать актуальную версию API можно [здесь](https://dev.vk.com/reference/versions). Последняя версия будет в самом верху списка.

Сохраните ее в переменной окружения в файле `.env`:
```
API_VERSION = '5.131'
```
## Запуск публикации
Для того, чтобы опубликовать случайный комикс на стене вашего сообщества, откройте командную строку, перейдите в директорию с проектом и введите команду:
```
python comics_publisher.py
```
Проверьте стену сообщества, комикс и подпись к нему должны быть опубликованы

# Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
